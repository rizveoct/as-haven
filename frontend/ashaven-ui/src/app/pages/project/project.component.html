<div class="projects-page relative overflow-hidden">
  <!-- Hero Banner with enhanced storytelling -->
  <section class="hero-section relative">
    <div
      class="hero-bg absolute top-0 left-0 w-full h-[120%] bg-cover bg-center transform-gpu will-change-transform"
      style="background-image: url('/images/banner/banner-3.png')"
      [ngStyle]="{ transform: 'translateY(' + (scrollY * 0.3 - 60) + 'px)' }"
    ></div>

    <div class="hero-overlay absolute inset-0"></div>

    <div class="hero-content page-width relative z-10">
      <span class="inline-flex items-center justify-center gap-2 text-[0.7rem] uppercase tracking-[0.6em] text-white/70 lg:justify-start">
            <span class="h-2 w-2 rounded-full bg-accent"></span>
            Signature Collection
          </span>
      <h1 class="text-4xl sm:text-5xl lg:text-6xl font-semibold leading-tight text-white">
        Projects crafted to elevate every horizon
      </h1>
      <p class="mx-auto max-w-2xl text-base text-white/80 sm:text-lg lg:mx-0">
        Explore our portfolio of curated developments where contemporary design,
        sustainable practices, and purposeful spaces come together. Tailor your
        search to uncover ongoing landmarks, future icons, and celebrated
        communities ready for you today.
      </p>
      <div class="hero-actions flex flex-col sm:flex-row items-center gap-4">
        <a
          href="#project-filters"
          class="hero-primary"
        >
          Explore Projects
          <i class="ri-arrow-right-up-line"></i>
        </a>
        <div class="hero-stats grid grid-cols-2 gap-4">
          <div class="hero-stat">
            <span class="hero-stat__value">35+</span>
            <span class="hero-stat__label">Completed landmarks</span>
          </div>
          <div class="hero-stat">
            <span class="hero-stat__value">12</span>
            <span class="hero-stat__label">Communities in progress</span>
          </div>
        </div>
      </div>
    </div>

  </section>

  <!-- Filter Bar -->
  <section id="project-filters" class="filter-section">
    <div class="page-width">
      <div class="filter-card">
        <div class="filter-card__header">
          <div>
            <h2>Tailor your discovery</h2>
            <p>
              Narrow the collection by project momentum and typology to find the
              experience that aligns with your aspirations.
            </p>
          </div>
          <div class="filter-card__legend">
            <span class="legend-dot legend-dot--ongoing"></span> Ongoing
            <span class="legend-dot legend-dot--upcoming"></span> Upcoming
            <span class="legend-dot legend-dot--completed"></span> Completed
          </div>
        </div>
        <div class="filter-grid">
          <!-- Category -->
          <label class="filter-field">
            <span class="filter-label">Project category</span>
            <select
              #categorySelect
              id="category"
              name="category"
              class="filter-select"
            >
              <option value="all" selected>All Categories</option>
              <option value="Ongoing">Ongoing</option>
              <option value="Upcoming">Upcoming</option>
              <option value="Completed">Completed</option>
            </select>
          </label>

          <!-- Type -->
          <label class="filter-field">
            <span class="filter-label">Project type</span>
            <select
              #typeSelect
              id="type"
              name="type"
              class="filter-select"
            >
              <option value="all" selected>All Types</option>
              <option value="Residential">Residential</option>
              <option value="Commercial">Commercial</option>
            </select>
          </label>

          <!-- Actions -->
          <div class="filter-actions">
            <button
              (click)="getActiveProjects()"
              aria-label="Apply filters"
              class="filter-button filter-button--primary"
            >
              <i class="ri-filter-line"></i>
              Filter results
            </button>
            <button
              (click)="resetFilters()"
              aria-label="Reset filters"
              class="filter-button filter-button--ghost"
            >
              <i class="ri-restart-line"></i>
              Reset
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Projects Grid -->
  <section class="projects-section">
    <div class="page-width">
      <header class="projects-header">
        <div>
          <h2>Featured developments</h2>
          <p>
            Each destination blends architecture, landscape, and lifestyle to
            create spaces that feel timeless from day one.
          </p>
        </div>
        <div class="projects-count" *ngIf="state.list.length">
          <span>{{ state.list.length }}</span>
          curated results
        </div>
      </header>

      <div class="projects-grid">
        <article
          *ngFor="let item of state.list"
          class="project-card group"
        >
          <a
            [routerLink]="['/projectdetails', item.id]"
            class="project-card__link"
          >
            <div class="project-card__image">
              <img
                [src]="baseUrl + '/api/attachment/get/' + item.thumbnail"
                [attr.alt]="item.name || 'Project image'"
                loading="lazy"
                (error)="onImageError($event)"
              />
              <div class="project-card__overlay"></div>
              <div class="project-card__meta">
                <span class="project-chip">
                  <i class="ri-time-line"></i>
                  {{ item.category || 'In development' }}
                </span>
                <span class="project-chip">
                  <i class="ri-building-4-line"></i>
                  {{ item.type || 'Mixed use' }}
                </span>
              </div>
            </div>
            <div class="project-card__body">
              <h3>{{ item.name }}</h3>
              <p>{{ item.address || 'Address forthcoming' }}</p>
              <span class="project-card__cta">
                View details
                <i class="ri-arrow-right-line"></i>
              </span>
            </div>
          </a>
        </article>
        <div
          *ngIf="!state.list.length"
          class="project-empty"
        >
          No projects match your filters. Try adjusting criteria.
        </div>
      </div>
    </div>
  </section>

  <section class="projects-cta">
    <div class="projects-cta__card">
      <h2>Envision your next address with As Haven</h2>
      <p>
        Partner with our advisory team for bespoke walkthroughs, investment
        guidance, and curated previews of upcoming releases.
      </p>
      <a href="/contact" class="projects-cta__action">
        Connect with us
        <i class="ri-arrow-right-up-line"></i>
      </a>
    </div>
  </section>
</div>
