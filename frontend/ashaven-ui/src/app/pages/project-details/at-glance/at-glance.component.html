<section class="glance" id="atGlance">
  <div class="glance__backdrop"></div>
  <div class="glance__container">
    <div class="glance__heading">
      <span class="glance__eyebrow">Project Summary</span>
      <h2 class="glance__title">At a Glance</h2>
      <p class="glance__intro">
        A curated overview of the residence, from generous floor plans to thoughtful services that elevate daily living.
        Explore key information, specifications, and inspiration in one beautifully organized space.
      </p>
    </div>

    <div class="glance__highlights" *ngIf="quickFacts.length">
      <div class="glance__highlight" *ngFor="let fact of quickFacts">
        <span class="glance__highlight-label">{{ fact.label }}</span>
        <span class="glance__highlight-value">{{ fact.value }}</span>
      </div>
    </div>

    <div class="glance__grid">
      <div class="glance__media">
        <ng-container [ngSwitch]="project?.contentType">
          <img
            *ngSwitchCase="'Image'"
            class="glance__media-img"
            [src]="baseUrl + '/api/attachment/get/' + project?.content"
            alt="Project image"
            (error)="onImageError($event)"
          />

          <video *ngSwitchCase="'Video'" class="glance__media-video" controls>
            <source
              [src]="baseUrl + '/api/attachment/get/' + project?.content"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>

          <div *ngSwitchDefault class="glance__media-placeholder">
            <span>No gallery available</span>
          </div>
        </ng-container>
      </div>

      <div class="glance__details">
        <h3 class="glance__details-title">Key Details</h3>
        <table class="glance__table">
          <tbody>
            <tr *ngFor="let row of detailRows">
              <td class="glance__table-label">{{ row.label }}</td>
              <td class="glance__table-value">{{ row.value }}</td>
            </tr>
          </tbody>
        </table>

        <div class="glance__actions">
          <button
            (click)="downloadPdf(project?.pdfFile)"
            [disabled]="!project?.pdfFile"
            class="glance__button glance__button--primary"
          >
            Project Brochure
          </button>
          <button
            type="button"
            class="glance__button glance__button--ghost"
            (click)="onRegisterNowClick()"
          >
            Register Interest
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
