<div class="faq_section py-16">
  <div class="max-w-4xl mx-auto px-4">
    <h2
      class="section-title text-2xl md:text-3xl font-bold text-center text-[var(--primary)] mb-4"
    >
      Frequently Asked Questions
    </h2>
    <p class="text-center text-[var(--gray)] mb-10">
      Find answers to common questions about our properties and services.
    </p>

    <!-- Add New FAQ -->
    <div class="mb-8">
      <button
        (click)="startAddFaq()"
        class="relative px-4 py-2 rounded-lg mb-4 bg-accent text-white overflow-hidden group"
      >
        <span class="relative z-10">Add New FAQ</span>
        <span
          class="absolute inset-0 bg-dark w-0 group-hover:w-full transition-all duration-500 ease-in-out"
        ></span>
      </button>

      <!-- Add FAQ Form -->
      <div
        *ngIf="newFaq"
        class="bg-[var(--white)] rounded-xl shadow-lg p-5 mb-4"
      >
        <ng-container *ngIf="newFaq">
          <input
            [(ngModel)]="newFaq.question"
            placeholder="Enter question"
            class="w-full p-2 mb-2 border border-[var(--gray)] rounded text-[var(--dark)]"
            required
          />
          <textarea
            [(ngModel)]="newFaq.answer"
            placeholder="Enter answer"
            class="w-full p-2 mb-2 border border-[var(--gray)] rounded text-[var(--dark)]"
            required
          ></textarea>
        </ng-container>
        <div class="flex justify-end gap-2">
          <button
            (click)="addFaq()"
            class="relative px-4 py-2 rounded-lg mb-4 bg-accent text-white overflow-hidden group"
          >
            <span class="relative z-10">Save</span>
            <span
              class="absolute inset-0 bg-dark w-0 group-hover:w-full transition-all duration-500 ease-in-out"
            ></span>
          </button>
          <button
            (click)="newFaq = null"
            class="relative px-4 py-2 rounded-lg mb-4 bg-dark text-white overflow-hidden group"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- FAQ List -->
    <div class="space-y-4">
      <div
        *ngFor="let faq of faqs"
        class="faq-item bg-[var(--white)] rounded-xl shadow-lg p-5"
      >
        <!-- Edit FAQ Form -->
        <div *ngIf="editingFaq && editingFaq.id === faq.id">
          <ng-container *ngIf="editingFaq">
            <input
              [(ngModel)]="editingFaq.question"
              placeholder="Enter question"
              class="w-full p-2 mb-2 border border-[var(--gray)] rounded text-[var(--dark)]"
              required
            />
            <textarea
              [(ngModel)]="editingFaq.answer"
              placeholder="Enter answer"
              class="w-full p-2 mb-2 border border-[var(--gray)] rounded text-[var(--dark)]"
              required
            ></textarea>
            <div class="flex justify-end gap-2">
              <button
                (click)="updateFaq()"
                class="bg-[var(--primary)] text-[var(--white)] px-4 py-2 rounded hover:bg-[var(--blue)]"
              >
                Save
              </button>
              <button
                (click)="cancelEdit()"
                class="bg-[var(--secondary)] text-[var(--white)] px-4 py-2 rounded hover:bg-[var(--gray)]"
              >
                Cancel
              </button>
            </div>
          </ng-container>
        </div>

        <!-- FAQ Display -->
        <div *ngIf="!editingFaq || editingFaq?.id !== faq.id">
          <h3 class="font-semibold text-[var(--primary)] text-lg mb-2">
            {{ faq.question }}
          </h3>
          <p class="text-[var(--gray-dark)]">{{ faq.answer }}</p>
          <div class="flex justify-end gap-2 mt-2">
            <button
              (click)="startEditFaq(faq)"
              class="text-[var(--info)] hover:text-[var(--cyan)]"
            >
              Edit
            </button>
            <button
              (click)="deleteFaq(faq.id)"
              class="text-[var(--danger)] hover:text-[var(--red)]"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
